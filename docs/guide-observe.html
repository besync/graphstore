<html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Observing changes in the UI · GraphStore</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Observing changes in the UI · GraphStore"/><meta property="og:type" content="website"/><meta property="og:url" content="https://besync.github.io/graphstore/index.html"/><meta property="og:description" content="GraphStore objects are just MobX observables.  So in a React `@obseserver render()` method or in a console application `autorun` they just stay up to date.   They also contain a useful `loading` property.  "/><link rel="shortcut icon" href="/graphstore/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/graphstore/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/graphstore/"><img class="logo" src="/graphstore/img/graphstore-wt.svg"/><h2 class="headerTitle">GraphStore</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/graphstore/docs/introduction.html" target="_self">Docs</a></li><li><a href="/graphstore/docs/api-readme.html" target="_self">API</a></li><li><a href="/graphstore/en/help.html" target="_self">Help</a></li><li><a href="https://github.com/besync/graphstore" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Guides</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>The Basics</h3><ul><li class="navListItem"><a class="navItem" href="/graphstore/docs/introduction.html">Introduction</a></li><li class="navListItem"><a class="navItem" href="/graphstore/docs/documents-collections.html">Documents and Collections</a></li><li class="navListItem"><a class="navItem" href="/graphstore/docs/stores-models.html">Models and Stores</a></li><li class="navListItem"><a class="navItem" href="/graphstore/docs/schema.html">Schemas</a></li></ul></div><div class="navGroup navGroupActive"><h3>Guides</h3><ul><li class="navListItem"><a class="navItem" href="/graphstore/docs/guide.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/graphstore/docs/guide-connect.html">Connecting a database</a></li><li class="navListItem"><a class="navItem" href="/graphstore/docs/guide-get.html">Fetching data</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/graphstore/docs/guide-observe.html">Observing changes in the UI</a></li><li class="navListItem"><a class="navItem" href="/graphstore/docs/guide-update.html">Update / Delete / Create Actions</a></li></ul></div><div class="navGroup navGroupActive"><h3>Code Generators</h3><ul><li class="navListItem"><a class="navItem" href="/graphstore/docs/schema-generator.html">Generating the Schema</a></li><li class="navListItem"><a class="navItem" href="/graphstore/docs/model-generator.html">Generating the Model</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>Observing changes in the UI</h1></header><article><div><span><p>GraphStore objects are just MobX observables.  So in a React <code>@obseserver render()</code> method or in a console application <code>autorun</code> they just stay up to date.   They also contain a useful <code>loading</code> property.</p>
<h2><a class="anchor" aria-hidden="true" name="usage-autorun-or-mobx-reactions-can-be-used-anywhere"></a><a href="#usage-autorun-or-mobx-reactions-can-be-used-anywhere" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage: Autorun or MobX reactions, can be used anywhere</h2>
<pre><code class="hljs css js">autorun(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> { 
    <span class="hljs-built_in">console</span>.log(
        (!(user.loading || users.userPosts.loading)) ? 
             <span class="hljs-string">`<span class="hljs-subst">${user.name}</span> has <span class="hljs-subst">${posts.length}</span> posts`</span> 
               : <span class="hljs-string">'loading from database'</span> )
      });
</code></pre>
<h2><a class="anchor" aria-hidden="true" name="usage-render-react"></a><a href="#usage-render-react" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage: Render (React)</h2>
<p>The following class will automatically subscribe to the database starting with the first render, and will automatically release the subscription when the component is no longer in scope.  The render() will be recalled whenever any of the data changes (from the database or from other views).</p>
<pre><code class="hljs css jsx">@observer
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{

  <span class="hljs-keyword">constructor</span>(props) {
    <span class="hljs-keyword">super</span>(props);
    <span class="hljs-keyword">this</span>.state =  { <span class="hljs-attr">user</span>: User = stores.UserStore.getbyId(props.userId)};
  }
  
  render() {
        <span class="hljs-keyword">return</span> (user.loading) ? &lt;div&gt;Loading&lt;div&gt; : 
        &lt;div&gt;
        Hello this.state.user.username;
        &lt;/div&gt;
    }
}
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="guide-get.html">← Fetching data</a><a class="docs-next button" href="guide-update.html">Update / Delete / Create Actions →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/graphstore/" class="nav-home"><img src="/graphstore/img/graphstore-wt80.svg" alt="GraphStore" width="66" height="58"/></a><div><h5>Docs</h5><a href="/graphstore/docs/en/introduction.html">Getting Started</a><a href="/graphstore/docs/en/api-readme.html">API Reference</a></div><div><h5>Community</h5><a href="/graphstore/en/users.html">User Showcase</a><a href="https://stackoverflow.com/search?q=@besync/graphstore" target="_blank">Stack Overflow</a></div><div><h5>More</h5><a href="https://github.com/besync/graphstore">GitHub</a><a class="github-button" href="https://github.com/besync/graphstore" data-icon="octicon-star" data-count-href="/besync/graphstore/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://github.com/besync" target="_blank" class="fbOpenSource"><img src="/graphstore/img/oss_logo.png" alt="Sync Health Labs Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2018 Sync Health Labs</section></footer></div></body></html>